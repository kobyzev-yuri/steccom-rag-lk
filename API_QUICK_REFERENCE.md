—â–¥–¥—Ñ# –°–¢–≠–ö–ö–û–ú API - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞

## üöÄ –ó–∞–ø—É—Å–∫
```bash
# –ó–∞–ø—É—Å–∫ API
source .venv/bin/activate
uvicorn api.main:app --host 0.0.0.0 --port 8000 --reload

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
http://localhost:8000/docs
```

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
python get_token.py staff1

# –ß–µ—Ä–µ–∑ curl
curl -X POST "http://localhost:8000/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"username": "staff1", "password": "10176e7b7b24d317acfcf8d2064cfd2f24e154f7b5a96603077d5ef813d6a6b6"}'
```

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å —Ç–æ–∫–µ–Ω–æ–º
TOKEN="YOUR_TOKEN_HERE"

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
curl -H "Authorization: Bearer $TOKEN" http://localhost:8000/auth/me

# –¢–µ–∫—É—â–∏–µ –¥–æ–≥–æ–≤–æ—Ä—ã
curl -H "Authorization: Bearer $TOKEN" http://localhost:8000/agreements/current

# –°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
curl -H "Authorization: Bearer $TOKEN" http://localhost:8000/devices

# –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á—ë—Ç—ã
curl http://localhost:8000/reports/available

# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–∞
curl -X POST "http://localhost:8000/reports/standard" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"report_type": "my_devices"}'
```

## üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- **staff1** - admin (–ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø)
- **arctic_user** - user (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ)
- **desert_user** - user (—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ)

## üîß –ü–∞—Ä–æ–ª–∏ (—Ö–µ—à–∏)
- staff1: `10176e7b7b24d317acfcf8d2064cfd2f24e154f7b5a96603077d5ef813d6a6b6`
- arctic_user: `—Ö–µ—à_–ø–∞—Ä–æ–ª—è_arctic`
- desert_user: `—Ö–µ—à_–ø–∞—Ä–æ–ª—è_desert`

## ‚è∞ –í–∞–∂–Ω–æ
- –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 30 –º–∏–Ω—É—Ç
- –ü–æ—Å–ª–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π —á–µ—Ä–µ–∑ `/auth/login`
- –§–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞: `Authorization: Bearer TOKEN`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/test_api.py -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/health
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc
- **OpenAPI JSON**: http://localhost:8000/openapi.json

## üß† –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ (RAG) –∏ SQL‚Äë–∞–≥–µ–Ω—Ç
- **–£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ (RAG)**:
  - –î–æ—Å—Ç—É–ø–µ–Ω –∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ, –∏ –≤ –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª–∏ (–≤–∫–ª–∞–¥–∫–∞ ¬´ü§ñ –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫¬ª).
  - –û—Ç–≤–µ—á–∞–µ—Ç –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏/KB, –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç SQL.
  - –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å —Å–µ–π—á–∞—Å –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É; –≤ –±—É–¥—É—â–µ–º –≤–æ–∑–º–æ–∂–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å–µ–∫—Ä–µ—Ç–∞–º.
- **SQL‚Äë–∞–≥–µ–Ω—Ç**:
  - –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Ä–∞–∑–¥–µ–ª ¬´–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å¬ª ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–∏.
  - –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: ¬´AI Query Assistant¬ª –≤ –∞–¥–º–∏–Ω‚Äë–ø–∞–Ω–µ–ª–∏ ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –µ–≥–æ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ –ø–æ –≤—Å–µ–º –∫–æ–º–ø–∞–Ω–∏—è–º.
  - RAG‚Äë–∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ —Å–º–µ—à–∏–≤–∞–µ—Ç—Å—è —Å SQL‚Äë–∞–≥–µ–Ω—Ç–æ–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—ã.
  - –§–∏–ª—å—Ç—Ä—ã –¥–æ—Å—Ç—É–ø–∞: –∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç –≤—Å–µ –∫–æ–º–ø–∞–Ω–∏–∏ (–∏–ª–∏ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî —Ç–æ–ª—å–∫–æ —Å–≤–æ—é.

### –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ –¥–∞–Ω–Ω—ã–º –∏ UI
- –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å CSV¬ª –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–¥ —Ç–∞–±–ª–∏—Ü–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
- DEBUG‚Äë—Å–æ–æ–±—â–µ–Ω–∏—è –≤ UI –æ—Ç–∫–ª—é—á–µ–Ω—ã.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö VSAT_VOICE —Å–µ—Å—Å–∏–π –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —Å–∫—Ä–∏–ø—Ç:
  ```bash
  python /mnt/ai/cnn/steccom/scripts/generate_vsat_voice_data.py
  ```
