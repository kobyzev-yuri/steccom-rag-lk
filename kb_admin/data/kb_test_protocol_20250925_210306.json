{
  "protocol_info": {
    "created_at": "2025-09-25T21:03:09.613871",
    "total_tests": 3,
    "test_environment": {
      "python_version": "3.x",
      "test_framework": "pytest",
      "rag_system": "MultiKBRAG",
      "knowledge_bases": [
        "legacy_reglament_sbd.json"
      ],
      "test_date": "2025-09-25T21:03:06.711313",
      "test_location": "/mnt/ai/cnn/steccom/tests/"
    }
  },
  "test_entries": [
    {
      "test_id": "test_001_210309",
      "question": {
        "question_id": "sbd_001",
        "question_text": "Какие ограничения по размеру сообщений действуют для абонентских терминалов в услуге SBD?",
        "expected_keywords": [
          "340/1960 байт",
          "270/1890 байт",
          "зависимости от типа терминала",
          "абонентский терминал"
        ],
        "category": "technical_limits",
        "kb_source": "legacy_reglament_sbd.json",
        "difficulty_level": "medium",
        "expected_answer_type": "factual"
      },
      "model_response": {
        "model_name": "gpt-4o",
        "provider": "proxyapi",
        "response_text": "Исходя из контекста, для абонентских терминалов в услуге SBD действуют следующие ограничения по размеру сообщений: исходящее электронное сообщение с абонентского терминала не должно превышать 340/1960 байт в зависимости от типа используемого абонентского терминала, а входящее сообщение на абонентский терминал — не более 270/1890 байт в зависимости от типа используемого абонентского терминала.",
        "response_time": 2.901564121246338,
        "sources_found": 0,
        "sources_details": [
          {
            "source": "legacy_reglament_sbd.json",
            "relevance": 0.8
          }
        ],
        "timestamp": "2025-09-25T21:03:09",
        "input_tokens": 22,
        "output_tokens": 98,
        "total_tokens": 120,
        "tokens_per_second": 33.77,
        "cost_per_token": 9e-06,
        "estimated_cost": 0.001035
      },
      "relevance_assessment": {
        "accuracy_score": 0.75,
        "completeness_score": 0.825,
        "relevance_score": 0.8,
        "keywords_found": [
          "340/1960 байт",
          "270/1890 байт",
          "абонентский терминал"
        ],
        "keywords_missing": [
          "зависимости от типа терминала"
        ],
        "overall_quality": "good",
        "human_notes": "Реальное тестирование KB с GPT-4o",
        "efficiency_score": 0.2728,
        "cost_effectiveness": 764.8953
      },
      "test_timestamp": "2025-09-25T21:03:09.613306",
      "test_environment": {
        "python_version": "3.x",
        "test_framework": "pytest",
        "rag_system": "MultiKBRAG",
        "knowledge_bases": [
          "legacy_reglament_sbd.json"
        ],
        "test_date": "2025-09-25T21:03:06.711313",
        "test_location": "/mnt/ai/cnn/steccom/tests/"
      }
    },
    {
      "test_id": "test_002_210309",
      "question": {
        "question_id": "sbd_002",
        "question_text": "Какие правила действуют при деактивации абонентского терминала в течение месяца?",
        "expected_keywords": [
          "не чаще чем 1 раз в месяц",
          "не в один и тот же день",
          "одноразовая плата",
          "начиная со второй деактивации",
          "день деактивации - неактивный"
        ],
        "category": "deactivation_rules",
        "kb_source": "legacy_reglament_sbd.json",
        "difficulty_level": "hard",
        "expected_answer_type": "procedural"
      },
      "model_response": {
        "model_name": "gpt-4o",
        "provider": "proxyapi",
        "response_text": "Не найдено релевантной информации в базах знаний.",
        "response_time": 2.6226043701171875e-05,
        "sources_found": 0,
        "sources_details": [
          {
            "source": "legacy_reglament_sbd.json",
            "relevance": 0.8
          }
        ],
        "timestamp": "2025-09-25T21:03:09",
        "input_tokens": 20,
        "output_tokens": 12,
        "total_tokens": 32,
        "tokens_per_second": 457560.44,
        "cost_per_token": 5e-06,
        "estimated_cost": 0.00017
      },
      "relevance_assessment": {
        "accuracy_score": 0.0,
        "completeness_score": 0.0735,
        "relevance_score": 0.8,
        "keywords_found": [],
        "keywords_missing": [
          "не чаще чем 1 раз в месяц",
          "не в один и тот же день",
          "одноразовая плата",
          "начиная со второй деактивации",
          "день деактивации - неактивный"
        ],
        "overall_quality": "fair",
        "human_notes": "Реальное тестирование KB с GPT-4o",
        "efficiency_score": 11102.1956,
        "cost_effectiveness": 1712.7451
      },
      "test_timestamp": "2025-09-25T21:03:09.613559",
      "test_environment": {
        "python_version": "3.x",
        "test_framework": "pytest",
        "rag_system": "MultiKBRAG",
        "knowledge_bases": [
          "legacy_reglament_sbd.json"
        ],
        "test_date": "2025-09-25T21:03:06.711313",
        "test_location": "/mnt/ai/cnn/steccom/tests/"
      }
    },
    {
      "test_id": "test_003_210309",
      "question": {
        "question_id": "sbd_003",
        "question_text": "Снимается ли плата за день, если услуга деактивирована?",
        "expected_keywords": [
          "другая абонентская плата",
          "пропорционально доле неактивных дней",
          "финансовый период",
          "день деактивации - неактивный",
          "время деактивированной услуги"
        ],
        "category": "billing_rules",
        "kb_source": "legacy_reglament_sbd.json",
        "difficulty_level": "hard",
        "expected_answer_type": "factual"
      },
      "model_response": {
        "model_name": "gpt-4o",
        "provider": "proxyapi",
        "response_text": "Не найдено релевантной информации в базах знаний.",
        "response_time": 3.600120544433594e-05,
        "sources_found": 0,
        "sources_details": [
          {
            "source": "legacy_reglament_sbd.json",
            "relevance": 0.8
          }
        ],
        "timestamp": "2025-09-25T21:03:09",
        "input_tokens": 13,
        "output_tokens": 12,
        "total_tokens": 25,
        "tokens_per_second": 333322.17,
        "cost_per_token": 6e-06,
        "estimated_cost": 0.000152
      },
      "relevance_assessment": {
        "accuracy_score": 0.0,
        "completeness_score": 0.0735,
        "relevance_score": 0.8,
        "keywords_found": [],
        "keywords_missing": [
          "другая абонентская плата",
          "пропорционально доле неактивных дней",
          "финансовый период",
          "день деактивации - неактивный",
          "время деактивированной услуги"
        ],
        "overall_quality": "fair",
        "human_notes": "Реальное тестирование KB с GPT-4o",
        "efficiency_score": 8087.6922,
        "cost_effectiveness": 1915.5702
      },
      "test_timestamp": "2025-09-25T21:03:09.613833",
      "test_environment": {
        "python_version": "3.x",
        "test_framework": "pytest",
        "rag_system": "MultiKBRAG",
        "knowledge_bases": [
          "legacy_reglament_sbd.json"
        ],
        "test_date": "2025-09-25T21:03:06.711313",
        "test_location": "/mnt/ai/cnn/steccom/tests/"
      }
    }
  ],
  "summary_statistics": {
    "total_tests": 3,
    "average_accuracy": 0.25,
    "average_completeness": 0.324,
    "average_relevance": 0.8,
    "average_response_time": 0.97,
    "average_tokens_per_second": 263638.79,
    "average_total_tokens": 59.0,
    "total_estimated_cost": 0.001357,
    "average_efficiency_score": 6396.7202,
    "average_cost_effectiveness": 1464.4035,
    "quality_distribution": {
      "good": 1,
      "fair": 2
    },
    "category_distribution": {
      "technical_limits": 1,
      "deactivation_rules": 1,
      "billing_rules": 1
    }
  }
}