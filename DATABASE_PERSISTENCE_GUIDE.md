# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º—É —Ö—Ä–∞–Ω–µ–Ω–∏—é –¥–∞–Ω–Ω—ã—Ö MediaWiki

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MediaWiki —Ç–µ–ø–µ—Ä—å **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –º—ç–ø–ø–∏—Ä—É–µ—Ç—Å—è** –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ **—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

```
/mnt/ai/cnn/steccom/
‚îú‚îÄ‚îÄ mediawiki_db_persistent/          # –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ mediawiki.sqlite              # –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ mediawiki_jobqueue.sqlite     # –û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ mediawiki_l10n_cache.sqlite   # –ö—ç—à –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ wikicache.sqlite              # –ö—ç—à –≤–∏–∫–∏
‚îú‚îÄ‚îÄ mediawiki_data/                   # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ mediawiki/LocalSettings.php       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üîß –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Docker –∫–æ–º–∞–Ω–¥–∞ —Å –º—ç–ø–ø–∏–Ω–≥–æ–º:
```bash
docker run -d --name steccom-mediawiki -p 8080:80 \
  -v "$(pwd)/mediawiki_db_persistent:/var/www/html/data" \
  -v "$(pwd)/mediawiki_data:/var/www/html/images" \
  -v "$(pwd)/mediawiki/LocalSettings.php:/var/www/html/LocalSettings.php:ro" \
  --restart unless-stopped \
  mediawiki:1.39
```

### Docker Compose (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞):
```yaml
version: '3.8'
services:
  mediawiki:
    image: mediawiki:1.39
    container_name: steccom-mediawiki
    ports:
      - "8080:80"
    volumes:
      - ./mediawiki_db_persistent:/var/www/html/data
      - ./mediawiki_data:/var/www/html/images
      - ./mediawiki/LocalSettings.php:/var/www/html/LocalSettings.php:ro
    restart: unless-stopped
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Å—Ç 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker stop steccom-mediawiki
sudo docker rm steccom-mediawiki

# –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
sudo docker run -d --name steccom-mediawiki -p 8080:80 \
  -v "$(pwd)/mediawiki_db_persistent:/var/www/html/data" \
  -v "$(pwd)/mediawiki_data:/var/www/html/images" \
  -v "$(pwd)/mediawiki/LocalSettings.php:/var/www/html/LocalSettings.php:ro" \
  --restart unless-stopped \
  mediawiki:1.39

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
curl -s "http://localhost:8080/api.php?action=query&list=search&srsearch=–°–¢–≠–ö–ö–û–ú&format=json"
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: ‚úÖ –í—Å–µ 10 —Å—Ç—Ä–∞–Ω–∏—Ü –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å!

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è
ls -lh mediawiki_db_persistent/mediawiki.sqlite

# –†–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–æ—Ç –∂–µ)
ls -lh mediawiki_db_persistent/mediawiki.sqlite
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- **–û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞**: 1.1 MB (mediawiki.sqlite)
- **–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á**: 28 KB (mediawiki_jobqueue.sqlite)
- **–ö—ç—à –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏**: 12 KB (mediawiki_l10n_cache.sqlite)
- **–ö—ç—à –≤–∏–∫–∏**: 0 KB (wikicache.sqlite)

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:
- **10 —Å—Ç—Ä–∞–Ω–∏—Ü** –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- **1 –∏–Ω–¥–µ–∫—Å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**
- **9 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** –∏–∑ KB —Ñ–∞–π–ª–æ–≤
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: admin (Admin123456789)

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
mkdir -p backups/$(date +%Y%m%d_%H%M%S)
cp -r mediawiki_db_persistent backups/$(date +%Y%m%d_%H%M%S)/
cp -r mediawiki_data backups/$(date +%Y%m%d_%H%M%S)/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
rm -rf mediawiki_db_persistent mediawiki_data
cp -r backups/20250120_1430/mediawiki_db_persistent ./
cp -r backups/20250120_1430/mediawiki_data ./
```

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
sudo docker exec steccom-mediawiki rm -rf /var/www/html/cache/*

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –Ω–∞ —Ö–æ—Å—Ç–µ
rm -f mediawiki_db_persistent/wikicache.sqlite
rm -f mediawiki_db_persistent/mediawiki_l10n_cache.sqlite
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo docker exec steccom-mediawiki sqlite3 /var/www/html/data/mediawiki.sqlite ".schema"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
sudo docker exec steccom-mediawiki sqlite3 /var/www/html/data/mediawiki.sqlite ".tables"
```

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω–∞** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** –æ—Å—Ç–∞—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è

### üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- **–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–æ–∫
- **–õ–µ–≥–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** - –∑–∞–º–µ–Ω–∞ –ø–∞–ø–æ–∫
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –º–æ–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä
- **–û—Ç–ª–∞–¥–∫–∞** - –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å bind mounts
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø—ã
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–ø–∏—è—Ö –¥–∞–Ω–Ω—ã—Ö

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–º–æ–≤ Docker
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω—é—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (PostgreSQL/MySQL)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ MediaWiki
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ HTTPS
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MediaWiki —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º—ç–ø–ø–∏—Ä—É–µ—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã.

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É** —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö.

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: 2025-01-20  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ—à–µ–Ω–æ  
**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: ‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ
